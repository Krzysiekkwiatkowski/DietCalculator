<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type"	content="text/html;	charset=UTF-8" />
    <title>Title</title>
</head>
<body>
<div th:if="${actualBalance != null || weeklyBalance != null}">
    <div th:if="${exist != null}">
        <div th:if="${actualBalance != null}">
            <div style="background-color: grey; float: left; width: 984px; height: 60px">
                <h3 th:text="'Wszystkie dostarczone dzisiaj makroskładniki:'"></h3>
            </div>
        </div>
        <div th:if="${weeklyBalance != null}">
            <div style="background-color: grey; float: left; width: 984px; height: 60px">
                <h3 th:text="'Wszystkie dostarczone makroskładniki w ciągu ostatnich ' + ${days} + ' dni:'"></h3>
            </div>
        </div>
        <div class="floatLeft" style="width: 300px">
            <b><p class="graphText" th:text="'Białko: ' + ${proteinPart}"></p></b>
            <b><p class="graphText" th:text="'Węglowodany: ' + ${carbohydratesPart}"></p></b>
            <b><p class="graphText" th:text="'Tłuszcz: ' + ${fatPart}"></p></b>
            <b><p class="graphText" th:text="'Kalorie: ' + ${caloriesPart}"></p></b>
            <b><p class="graphText" th:text="'Ładunki glikemiczne: '"></p></b>
            <div th:each="glycemicCharge : ${glycemicCharges}">
                <b><p class="graphText" th:text="${glycemicChargeStat.index + 1} + ' posiłek'"></p></b>
            </div>
        </div>
        <div class="floatLeft" style="border-left: 4px solid black; border-right: 4px solid black;width: 299px; height: 192px">
            <div class="graph" th:style="'width: ' + ${protein * 3} + 'px; background-color: green;'" th:text="${protein} + '%'"></div>
            <div class="graph" th:style="'width: ' + ${carbohydrates * 3} + 'px; background-color: red;'" th:text="${carbohydrates} + '%'"></div>
            <div class="graph" th:style="'width: ' + ${fat * 3} + 'px; background-color: yellow;'" th:text="${fat} + '%'"></div>
            <div class="graph" th:style="'width: ' + ${calories * 3} + 'px; background-color: blue;'" th:text="${calories} + '%'"></div>
            <div class="graph"></div>
            <div th:each="glycemicCharge : ${glycemicCharges}">
                <div class="graph" th:style="'width: ' + ${(glycemicCharge * 300) / 20} + 'px; background-color: orange;'" th:text="${glycemicCharge}"/>
            </div>
        </div>
        <div class="floatLeft" style="margin-right: 300px; width: 308px">
            <div class="floatLeft" th:text="'0%'"></div>
            <div class="floatRight" th:text="'100%'"></div>
        </div>
    </div>
    <div th:if="${actualBalance != null && exist == null}" style="color: red">
        <h3> Nie dodano jeszcze posiłku! </h3>
    </div>
    <div th:if="${weeklyBalance != null && exist == null}" style="color: red">
        <h3> Nie ma wymaganej ilości danych! </h3>
    </div>
</div>
<div th:if="${longBalance != null}">
    <div th:if="${exist != null}">
        <h3 style="color: black" th:text="'Kalorie dostarczone w ciągu ostatnich ' + ${days} + ' dni:'"></h3>
        <div class="floatLeft" style="width: 150px; height: 541px">
            <div style="width: 150px; height: 200px; text-align: right; margin-top: 190px" ><b th:text="'100%'"></b></div>
            <div style="width: 150px; height: 20px; text-align: right" ><b th:text="'0%'"></b></div>
        </div>
        <div th:each="daily : ${balances}">
            <div class="floatLeft" style="width: 20px; height: 400px">
                <div th:style="'width: 20px; height: ' + ${400 - ((daily.received * 200 )/ daily.needed)} + 'px'">
                    <div style="height: 200px; border-bottom: 2px solid black"></div>
                </div>
                <div th:style="'width: 20px; height: ' + ${(daily.received * 200 )/ daily.needed} + 'px; background-color: blue; border-bottom: 2px solid black'">
                    <div th:if="${(400 - ((daily.received * 200 )/ daily.needed)) < 200}" th:style="'position: static; height: ' + ${((daily.received * 200 )/ daily.needed) - 200} + 'px; border-bottom: 2px solid black; background-color: red'"></div>
                </div>
            </div>
        </div>
        <div class="floatLeft" style="width: 695px; height: 141px">
            <p style="height: 15px"><b th:text="'Średnie dzienne pokrycie zapotrzebowania na białko: ' + ${avgProtein} + '%'"></b></p>
            <p style="height: 15px"><b th:text="'Średnie dzienne pokrycie zapotrzebowania na węglowodany: ' + ${avgCarbohydrates} + '%'"></b></p>
            <p style="height: 15px"><b th:text="'Średnie dzienne pokrycie zapotrzebowania na tłuszcze: ' + ${avgFat} + '%'"></b></p>
            <p style="height: 15px"><b th:text="'Średnie dzienne pokrycie zapotrzebowania na kalorie: ' + ${avgCalories} + '%'"></b></p>
        </div>
    </div>
    <div th:if="${exist == null}" style="color: red">
        <h3> Nie ma wymaganej ilości danych! </h3>
    </div>
</div>
</body>
</html>